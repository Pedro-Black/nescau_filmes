import{a as S,u as M,b as y,L as G}from"./movie-6QG5fM87.js";import{_ as I,u as b,r as h,o as B,a as o,c as n,e as s,F as d,f as v,d as c,b as L,n as f,t as _,p as $,g as D}from"./index-qBIgT9SV.js";const V=r=>($("data-v-ab822e22"),r=r(),D(),r),x=V(()=>s("h1",null,"Filmes",-1)),F={class:"genre-list"},N=["onClick"],R={class:"movie-list"},z=["src","alt","onClick"],A={class:"movie-details"},E=["onClick"],U={class:"movie-release-date"},j={class:"movie-genres"},q=["onClick"],H={__name:"MoviesView",setup(r){const i=S(),k=M(),C=b(),l=h(!1),w=t=>new Date(t).toLocaleDateString("pt-BR"),m=h([]),p=async t=>{i.setCurrentGenreId(t),l.value=!0;const u=await y.get("discover/movie",{params:{with_genres:t,language:"pt-BR"}});m.value=u.data.results,l.value=!1},g=async t=>{await k.getMovie(t),C.push("/filme")};return B(async()=>{l.value=!0,await i.getAllGenres(),p(28),l.value=!1}),(t,u)=>(o(),n(d,null,[x,s("ul",F,[(o(!0),n(d,null,v(c(i).movie_genres,e=>(o(),n("li",{key:e.id,onClick:a=>p(e.id),class:f(["genre-item",{active:e.id===c(i).currentGenreId}])},_(e.name),11,N))),128))]),L(c(G),{active:l.value,"onUpdate:active":u[0]||(u[0]=e=>l.value=e),"is-full-page":""},null,8,["active"]),s("div",R,[(o(!0),n(d,null,v(m.value,e=>(o(),n("div",{key:e.id,class:"movie-card"},[s("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,onClick:a=>g(e.id)},null,8,z),s("div",A,[s("p",{class:"movie-title",onClick:a=>g(e.id)},_(e.title),9,E),s("p",U,_(w(e.release_date)),1),s("p",j,[(o(!0),n(d,null,v(e.genre_ids,a=>(o(),n("span",{key:a,onClick:J=>p(a),class:f({active:a===c(i).currentGenreId})},_(c(i).getMovieGenreName(a)),11,q))),128))])])]))),128))])],64))}},P=I(H,[["__scopeId","data-v-ab822e22"]]);export{P as default};
